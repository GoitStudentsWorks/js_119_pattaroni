{"version":3,"file":"index.js","sources":["../src/js/constants.js","../src/js/api.js","../src/js/refs.js","../src/js/helpers.js","../src/img/sprite.svg?url","../src/js/render-function.js","../src/js/handlers.js","../src/js/to-top.js","../src/js/mobil-menu.js","../src/main.js"],"sourcesContent":["export const api = {\n  BASE_URL: 'https://sound-wave.b.goit.study/api',\n  ENDPOINTS: {\n    genres: () => '/genres',\n    artists: () => '/artists',\n    artistById: id => `/artists/${id}`,\n    artistByIdWithAlbums: id => `/artists/${id}/albums`,\n    feedbacks: () => '/feedbacks',\n  },\n  PER_PAGE: 8,\n};\n\nexport const SORT_TYPES = {\n  ASC: 'asc',\n  DESC: 'desc',\n};\n","import axios from 'axios';\nimport { api } from './constants';\n\nconst { BASE_URL, ENDPOINTS, PER_PAGE } = api;\n\naxios.defaults.baseURL = BASE_URL;\n\nexport const fetchGenres = async () => {\n  const { data } = await axios.get(ENDPOINTS.genres());\n  return data;\n};\n\n// use SORT_TYPES from constants.js for sortName\nexport const fetchArtists = async ({\n  page = 1,\n  genre,\n  name,\n  sortName,\n} = {}) => {\n  const { data } = await axios.get(ENDPOINTS.artists(), {\n    params: {\n      page,\n      limit: PER_PAGE,\n      ...(!!genre && { genre }),\n      ...(!!name && { name }),\n      ...(!!sortName && { sortName }),\n    },\n  });\n\n  const totalItems = data.totalArtists || 0;\n  const isLastPage = page >= Math.ceil(totalItems / PER_PAGE);\n\n  return { data, isLastPage };\n};\n\nexport const fetchArtistById = async id => {\n  const { data } = await axios.get(ENDPOINTS.artistById(id));\n  return data;\n};\n\nexport const fetchArtistByIdWithAlbums = async id => {\n  const { data } = await axios.get(ENDPOINTS.artistByIdWithAlbums(id));\n  return data;\n};\n\nexport const postFeedback = async feedback => {\n  const { data } = await axios.post(ENDPOINTS.feedbacks(), feedback);\n  return data;\n};\n\nexport const fetchFeedbacks = async (page = 1, PER_PAGE = 10) => {\n  const { data } = await axios.get(ENDPOINTS.feedbacks(), {\n    params: {\n      page,\n      limit: PER_PAGE,\n    },\n  });\n\n  const feedbacks = data.data || [];\n  const totalItems = data.total || 0;\n  const isLastPage = page >= Math.ceil(totalItems / PER_PAGE);\n\n  return { feedbacks, isLastPage };\n};\n\n","export const refs = {\n  artistsList: document.querySelector('.artists-list'),\n  containerEL: document.querySelector('.container'),\n  loader: document.querySelector('.loader'),\n};\n","export const prepareArtistDescription = (text = '') => {\n  const isSupportsLineClamp =\n    CSS.supports('-webkit-line-clamp', '2') &&\n    CSS.supports('display', '-webkit-box');\n\n  if (isSupportsLineClamp) {\n    return text;\n  }\n  return text.length > 80 ? text.slice(0, 80).trim() + '...' : text;\n};\n\nexport const loader = {\n  create(element) {\n    if (!element) return;\n    const markup = '<span class=\"loader hidden\"></span>';\n    element.insertAdjacentHTML('beforeend', markup);\n    return element.querySelector('.loader');\n  },\n  show(loaderEl) {\n    loaderEl?.classList.remove('hidden');\n  },\n  hide(loaderEl) {\n    loaderEl?.classList.add('hidden');\n  },\n};\n\n/*\n Інструкція:\n  - create(parentEl) → додає лоадер у вказаний контейнер і повертає його\n  - show(loaderEl) → показує лоадер (знімає клас 'hidden')\n  - hide(loaderEl) → ховає лоадер (додає клас 'hidden')\n\n Використання:\n   const loaderEl = loader.create(refs.container);\n   loader.show(loaderEl);\n   ... // async code\n   loader.hide(loaderEl);\n*/\n","export default \"__VITE_ASSET__DO1$9C8$__\"","import Swiper from 'swiper';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\nimport { refs } from './refs';\nimport { prepareArtistDescription } from './helpers';\nimport spriteUrl from '../img/sprite.svg?url';\n\n\nexport function renderArtists(data) {\n  const markup = data\n    .map(artist => {\n      const genresMarkup = artist.genres\n        .map(genre => `<li class=\"genres-list-item\">${genre}</li>`)\n        .join('');\n      const preparedArtistDescription = prepareArtistDescription(artist.strBiographyEN);\n\n      return `<li class=\"artists-list-item\" data-id=\"${artist._id}\">\n                <img class=\"artist-image\"\n                  src=\"${artist.strArtistThumb}\" \n                  alt=\"${artist.strArtist}\" />\n                <ul class=\"genres-list\">\n                    ${genresMarkup}\n                </ul>\n                <h3 class=\"artist-name\">${artist.strArtist}</h3>\n                <p class=\"artist-descr\">${preparedArtistDescription}</p>\n                <button type=\"button\" class=\"artist-btn-learn-more\">\n                    <span>Learn More</span>\n                    <span>\n                        <svg class=\"artist-learn-svg\" width=\"14\" height=\"14\">\n                          <use href=\"${spriteUrl}#next-icon\"></use>\n                        </svg>\n                    </span>\n                </button>\n            </li>`;\n    })\n    .join('');\n  refs.artistsList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport const renderFeedbackSlider = feedbacks => {\n  const container = document.querySelector('.section-feedback .container');\n  if (!container) return console.error('Container not found');\n\n  const markup = `\n    <div class=\"feedback-slider swiper\">\n      <div class=\"swiper-wrapper\">\n        ${feedbacks.map(fb => `\n          <div class=\"swiper-slide\">\n            <div class=\"feedback-card\">\n              <div class=\"stars\">${renderStars(fb.rating)}</div>\n              <p class=\"comment\">\"${fb.descr}\"</p>\n              <h3 class=\"comm-name\">${fb.name}</h3>\n            </div>\n          </div>\n        `).join('')}\n      </div>\n      <div class=\"swiper-button-prev\">\n        <svg class=\"icon\">\n          <use href=\"${spriteUrl}#left-arrow-icon\"></use>\n\n        </svg>\n      </div>\n      <div class=\"swiper-button-next\">\n        <svg class=\"icon\">\n          <use href=\"${spriteUrl}#right-arrow-icon\"></use>\n\n        </svg>\n      </div>\n      <div class=\"custom-pagination\">\n        <span class=\"bullet bullet-left\"></span>\n        <span class=\"bullet bullet-middle\"></span>\n        <span class=\"bullet bullet-right\"></span>\n      </div>\n    </div>\n  `;\n\n  container.insertAdjacentHTML('beforeend', markup);\n\n  const swiperEl = container.querySelector('.feedback-slider');\n  if (!swiperEl) return console.error('Swiper container not found');\n\n  const swiperInstance = new Swiper(swiperEl, {\n    spaceBetween: 30,\n    slidesPerView: 1,\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n    on: {\n      init(swiper) {\n        updateCustomPagination(swiper);\n      },\n      slideChange(swiper) {\n        updateCustomPagination(swiper);\n      },\n    },\n  });\n\n  document.querySelector('.swiper-button-next')?.addEventListener('click', () => {\n    swiperInstance.slideNext();\n  });\n  document.querySelector('.swiper-button-prev')?.addEventListener('click', () => {\n    swiperInstance.slidePrev();\n  });\n\n  function updateCustomPagination(swiper) {\n    const total = swiper.slides.length;\n    const current = swiper.activeIndex;\n\n    const left = swiper.el.querySelector('.bullet-left');\n    const middle = swiper.el.querySelector('.bullet-middle');\n    const right = swiper.el.querySelector('.bullet-right');\n\n    if (!left || !middle || !right) return;\n\n    left.classList.remove('active');\n    middle.classList.remove('active');\n    right.classList.remove('active');\n\n    if (current === 0) {\n      left.classList.add('active');\n    } else if (current === total - 1) {\n      right.classList.add('active');\n    } else {\n      middle.classList.add('active');\n    }\n  }\n};\n\nfunction renderStars(rating) {\n  const fullStars = Math.round(rating);\n  const emptyStars = 5 - fullStars;\n\n  return (\n    '<span class=\"stars\">' +\n    '<span class=\"fa fa-star checked\"></span>'.repeat(fullStars) +\n    '<span class=\"fa fa-star\" style=\"color: #fff;\"></span>'.repeat(emptyStars) +\n    '</span>'\n  );\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchArtists, fetchFeedbacks } from './api';\nimport { renderArtists, renderFeedbackSlider } from './render-function';\nimport { loader } from './helpers';\nimport { refs } from './refs';\n\nexport async function handleArtists() {\n  let loaderEl;\n  try {\n    loaderEl = loader.create(refs.artistsList);\n    loader.show(loaderEl);\n    const { data } = await fetchArtists();\n    loader.show(loaderEl);\n    renderArtists(data.artists);\n  } catch (error) {\n    if (error.response) {\n      iziToast.error({\n        message: `Error ${error.response.status}: ${error.response.data}`,\n      });\n    } else {\n      iziToast.error({ message: `Error: ${error.message}` });\n    }\n  } finally {\n    loader.hide(loaderEl);\n  }\n}\n\nexport async function initFeedbackSection() {\n  try {\n    const { feedbacks } = await fetchFeedbacks(1, 10);\n    if (!Array.isArray(feedbacks)) throw new Error('Feedbacks is not an array');\n\n    renderFeedbackSlider(feedbacks);\n  } catch (err) {\n    console.error('Feedback fetch error:', err);\n  }\n}\n","const toTopBtn = document.getElementById('toTop');\nwindow.addEventListener('scroll', () => {\n    if (window.scrollY > 600) {\n        toTopBtn.classList.add('show');\n    } else {\n        toTopBtn.classList.remove('show');\n    }\n});\ntoTopBtn.addEventListener('click', () => {\n    window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n    });\n});","// Вибираємо потрібні елементи\nconst burgerMenu = document.querySelector('.burger-menu');\nconst mobileMenu = document.querySelector('.mobile-menu');\nconst mobileMenuClose = document.querySelector('.mobile-menu-close');\nconst overlay = document.querySelector('.overlay');\nconst mobileLinks = document.querySelectorAll('.nav-list-m a');\n\n// Функція для відкриття меню\nfunction openMenu() {\n  mobileMenu.classList.add('active');\n  overlay.classList.add('active');\n}\n\n// Функція для закриття меню\nfunction closeMenu() {\n  mobileMenu.classList.remove('active');\n  overlay.classList.remove('active');\n}\n\n// Відкриваємо меню по кліку на бургер\nburgerMenu.addEventListener('click', openMenu);\n\n// Закриваємо меню по кліку на хрестик\nmobileMenuClose.addEventListener('click', closeMenu);\n\n// Закриваємо меню по кліку на overlay\noverlay.addEventListener('click', closeMenu);\n\n// Закриваємо меню і скролимо до секції при кліку на пункт\nmobileLinks.forEach(link => {\n  link.addEventListener('click', function (e) {\n    e.preventDefault();\n    const targetId = this.getAttribute('href');\n    const targetSection = document.querySelector(targetId);\n\n    if (targetSection) {\n      targetSection.scrollIntoView({ behavior: 'smooth' });\n    }\n\n    closeMenu();\n  });\n});\n","\nimport { handleArtists, initFeedbackSection } from './js/handlers';\nimport { loader } from './js/helpers.js';\nimport { refs } from './js/refs.js';\nimport './js/to-top.js';\nimport './js/mobil-menu.js';\n\nhandleArtists();\ninitFeedbackSection();\n\n"],"names":["api","id","BASE_URL","ENDPOINTS","PER_PAGE","axios","fetchArtists","page","genre","name","sortName","data","totalItems","isLastPage","fetchFeedbacks","feedbacks","refs","prepareArtistDescription","text","loader","element","loaderEl","spriteUrl","renderArtists","markup","artist","genresMarkup","preparedArtistDescription","renderFeedbackSlider","container","fb","renderStars","swiperEl","swiperInstance","Swiper","swiper","updateCustomPagination","total","current","left","middle","right","rating","fullStars","emptyStars","handleArtists","error","iziToast","initFeedbackSection","err","toTopBtn","burgerMenu","mobileMenu","mobileMenuClose","overlay","mobileLinks","openMenu","closeMenu","link","e","targetId","targetSection"],"mappings":"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"}