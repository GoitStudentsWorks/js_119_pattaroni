{"version":3,"file":"index.js","sources":["../src/js/constants.js","../src/js/api.js","../src/js/refs.js","../src/js/helpers.js","../src/img/sprite.svg?url","../src/js/render-function.js","../src/js/handlers.js","../src/main.js"],"sourcesContent":["export const api = {\n  BASE_URL: 'https://sound-wave.b.goit.study/api',\n  ENDPOINTS: {\n    genres: () => '/genres',\n    artists: () => '/artists',\n    artistById: id => `/artists/${id}`,\n    artistByIdWithAlbums: id => `/artists/${id}/albums`,\n    feedbacks: () => '/feedbacks',\n  },\n  PER_PAGE: 8,\n};\n\nexport const SORT_TYPES = {\n  ASC: 'asc',\n  DESC: 'desc',\n};\n","import axios from 'axios';\nimport { api } from './constants';\n\nconst { BASE_URL, ENDPOINTS, PER_PAGE } = api;\n\naxios.defaults.baseURL = BASE_URL;\n\nexport const fetchGenres = async () => {\n  const { data } = await axios.get(ENDPOINTS.genres());\n  return data;\n};\n\n// use SORT_TYPES from constants.js for sortName\nexport const fetchArtists = async ({\n  page = 1,\n  genre,\n  name,\n  sortName,\n} = {}) => {\n  const { data } = await axios.get(ENDPOINTS.artists(), {\n    params: {\n      page,\n      limit: PER_PAGE,\n      ...(!!genre && { genre }),\n      ...(!!name && { name }),\n      ...(!!sortName && { sortName }),\n    },\n  });\n\n  const totalItems = data.totalArtists || 0;\n  const isLastPage = page >= Math.ceil(totalItems / PER_PAGE);\n\n  return { data, isLastPage };\n};\n\nexport const fetchArtistById = async id => {\n  const { data } = await axios.get(ENDPOINTS.artistById(id));\n  return data;\n};\n\nexport const fetchArtistByIdWithAlbums = async id => {\n  const { data } = await axios.get(ENDPOINTS.artistByIdWithAlbums(id));\n  return data;\n};\n\nexport const postFeedback = async feedback => {\n  const { data } = await axios.post(ENDPOINTS.feedbacks(), feedback);\n  return data;\n};\n\nexport const fetchFeedbacks = async (page = 1) => {\n  const { data } = await axios.get(ENDPOINTS.feedbacks(), {\n    params: {\n      page,\n      limit: PER_PAGE,\n    },\n  });\n\n  const totalItems = data.total || 0;\n  const isLastPage = page >= Math.ceil(totalItems / PER_PAGE);\n\n  return { data, isLastPage };\n};\n","export const refs = {\n  artistsList: document.querySelector('.artists-list'),\n};\n","export const prepareArtistDescription = (text = '') => {\n  const isSupportsLineClamp =\n    CSS.supports('-webkit-line-clamp', '2') &&\n    CSS.supports('display', '-webkit-box');\n\n  if (isSupportsLineClamp) {\n    return text;\n  }\n  return text.length > 80 ? text.slice(0, 80).trim() + '...' : text;\n};\n","export default \"__VITE_ASSET__DMpmu5Z1__\"","import { refs } from './refs';\nimport { prepareArtistDescription } from './helpers';\nimport spriteUrl from '../img/sprite.svg?url';\n\nexport function renderArtists(data) {\n  const markup = data\n    .map(artist => {\n      const genresMarkup = artist.genres\n        .map(genre => `<li class=\"genres-list-item\">${genre}</li>`)\n        .join('');\n      const preparedArtistDescription = prepareArtistDescription(\n        artist.strBiographyEN\n      );\n\n      return `<li class=\"artists-list-item\" data-id=\"${artist._id}\">\n                <img class=\"artist-image\"\n                  src=\"${artist.strArtistThumb}\" \n                  alt=\"${artist.strArtist}\" />\n                <ul class=\"genres-list\">\n                    ${genresMarkup}\n                </ul>\n                <h3 class=\"artist-name\">${artist.strArtist}</h3>\n                <p class=\"artist-descr\">${preparedArtistDescription}</p>\n                <button type=\"button\" class=\"artist-btn-learn-more\">\n                    <span>Learn More</span>\n                    <span>\n                        <svg class=\"artist-learn-svg\" width=\"14\" height=\"14\">\n                          <use href=\"${spriteUrl}#next-icon\"></use>\n                        </svg>\n                    </span>\n                </button>\n            </li>`;\n    })\n    .join('');\n  refs.artistsList.insertAdjacentHTML('beforeend', markup);\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchArtists } from './api';\nimport { renderArtists } from './render-function';\n\nexport async function handleArtists() {\n  try {\n    const { data } = await fetchArtists();\n    renderArtists(data.artists);\n  } catch (error) {\n    if (error.response) {\n      iziToast.error({\n        message: `Error ${error.response.status}: ${error.response.data}`,\n      });\n    } else {\n      iziToast.error({ message: `Error: ${error.message}` });\n    }\n  }\n}\n","import { handleArtists } from './js/handlers';\n\nhandleArtists();\n"],"names":["api","id","BASE_URL","ENDPOINTS","PER_PAGE","axios","fetchArtists","page","genre","name","sortName","data","totalItems","isLastPage","refs","prepareArtistDescription","text","spriteUrl","renderArtists","markup","artist","genresMarkup","preparedArtistDescription","handleArtists","error","iziToast"],"mappings":"6vBAAO,MAAMA,EAAM,CACjB,SAAU,sCACV,UAAW,CACT,OAAQ,IAAM,UACd,QAAS,IAAM,WACf,WAAYC,GAAM,YAAYA,CAAE,GAChC,qBAAsBA,GAAM,YAAYA,CAAE,UAC1C,UAAW,IAAM,YACrB,EACE,SAAU,CACZ,ECPM,CAAE,SAAAC,EAAU,UAAAC,EAAW,SAAAC,CAAQ,EAAKJ,EAE1CK,EAAM,SAAS,QAAUH,EAQlB,MAAMI,EAAe,MAAO,CACjC,KAAAC,EAAO,EACP,MAAAC,EACA,KAAAC,EACA,SAAAC,CACF,EAAI,KAAO,CACT,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMN,EAAM,IAAIF,EAAU,UAAW,CACpD,OAAQ,CACN,KAAAI,EACA,MAAOH,EACP,GAAI,CAAC,CAACI,GAAS,CAAE,MAAAA,GACjB,GAAI,CAAC,CAACC,GAAQ,CAAE,KAAAA,GAChB,GAAI,CAAC,CAACC,GAAY,CAAE,SAAAA,EAC1B,CACA,CAAG,EAEKE,EAAaD,EAAK,cAAgB,EAClCE,EAAaN,GAAQ,KAAK,KAAKK,EAAaR,CAAQ,EAE1D,MAAO,CAAE,KAAAO,EAAM,WAAAE,CAAU,CAC3B,ECjCaC,EAAO,CAClB,YAAa,SAAS,cAAc,eAAe,CACrD,ECFaC,EAA2B,CAACC,EAAO,KAE5C,IAAI,SAAS,qBAAsB,GAAG,GACtC,IAAI,SAAS,UAAW,aAAa,EAG9BA,EAEFA,EAAK,OAAS,GAAKA,EAAK,MAAM,EAAG,EAAE,EAAE,KAAI,EAAK,MAAQA,ECR/DC,EAAe,+CCIR,SAASC,EAAcP,EAAM,CAClC,MAAMQ,EAASR,EACZ,IAAIS,GAAU,CACb,MAAMC,EAAeD,EAAO,OACzB,IAAIZ,GAAS,gCAAgCA,CAAK,OAAO,EACzD,KAAK,EAAE,EACJc,EAA4BP,EAChCK,EAAO,cACf,EAEM,MAAO,0CAA0CA,EAAO,GAAG;AAAA;AAAA,yBAExCA,EAAO,cAAc;AAAA,yBACrBA,EAAO,SAAS;AAAA;AAAA,sBAEnBC,CAAY;AAAA;AAAA,0CAEQD,EAAO,SAAS;AAAA,0CAChBE,CAAyB;AAAA;AAAA;AAAA;AAAA;AAAA,uCAK5BL,CAAS;AAAA;AAAA;AAAA;AAAA,kBAK5C,CAAC,EACA,KAAK,EAAE,EACVH,EAAK,YAAY,mBAAmB,YAAaK,CAAM,CACzD,CC9BO,eAAeI,GAAgB,CACpC,GAAI,CACF,KAAM,CAAE,KAAAZ,GAAS,MAAML,EAAY,EACnCY,EAAcP,EAAK,OAAO,CAC5B,OAASa,EAAO,CACVA,EAAM,SACRC,EAAS,MAAM,CACb,QAAS,SAASD,EAAM,SAAS,MAAM,KAAKA,EAAM,SAAS,IAAI,EACvE,CAAO,EAEDC,EAAS,MAAM,CAAE,QAAS,UAAUD,EAAM,OAAO,GAAI,CAEzD,CACF,CChBAD,EAAa"}